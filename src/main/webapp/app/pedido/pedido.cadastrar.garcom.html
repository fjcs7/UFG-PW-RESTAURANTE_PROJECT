<meta charset="UTF-8">
<div class="row well well-sm">
	<center>
		<h2>
			<b class="fa fa-plus-circle"> Cadastrar Pedido</b>
		</h2>
	</center>
</div>

<div class="row jumbotron flip-left">
	<form class="form">
		<div class="box">
			<legend>Dados do Pedido</legend>
			<div class="row">

				<div class="col-md-2">
					<div class="form-group">
						<label for="mesa">Mesa</label>
						<select ng-model="mesaSelecionada" id="mesa" name="mesa" 
						        ng-options="mesa.id for mesa in mesas" placeholder="Mesa">
						</select>
					</div>
				</div>

				<div class="col-md-10">
					<div class="form-group float-right">
						<button ng-click="carregarItens()" type="button" class="btn btn-default" data-toggle="modal"
							data-target="#modalAdidionarItem" style="margin-top: 20px;">
							<i class="fa fa-plus-circle" aria-hidden="true"></i> Novo Item
						</button>
					</div>
				</div>

			</div>
			<br>
			
			<div ng-show="itensPedido.length>0" id="divItensPedido"
				class="table-responsive box-white">
				<table class="table table-hover" id="itensPedido">
					<thead style="background: #F5F5F5;">
						<tr>
							<th><center>#</center></th>
							<th><center>Descrição</center></th>
							<th><center>Quantidade</center></th>
							<th class="width-actions-250"><center>Ações</center></th>
						</tr>
					</thead>
					<tr ng-repeat="item in itensPedido track by $index">
						<td><center>{{$index + 1}}</center></td>
						<td><center>{{item.produto.descricao}}</center></td>
						<td>
							<center>
								<span class=""><i class="fa fa-plus-square"
									aria-hidden="true"></i></span> <span> {{item.quantidade}}</span> <span
									class=""><i class="fa fa-min	 us-square"
									aria-hidden="true"></i></span>
							</center>
						</td>

						<td>
							<center>

								<a type="button" class="btn btn-warning" data-toggle="modal"
									data-target="#modalCancelar"><i class="fa fa-times-circle"
									aria-hidden="true"></i> Devolver</a> <a
									ng-click="removerItem(item.$index)" class="btn btn-danger"><i
									class="fa fa-trash-o" aria-hidden="true"></i> Remover</a>
							</center>
						</td>
					</tr>
					<tbody>

					</tbody>
				</table>
			</div>
		</div>
		<br>
		<div class="float-right">
			<a class="btn btn-default"><i
				class="fa fa-reply" aria-hidden="true"></i> Voltar</a> <a
				class="btn btn-info" ng-click="adicionarPedido(pedido, itensPedido, mesaSelecionada)"><i class="fa fa-floppy-o"
				aria-hidden="true"></i> Salvar</a>

		</div>
</div>

</form>



</div>


<!-- Modal -->
<div id="modalAdidionarItem" class="modal fade" role="dialog">
	<div class="modal-dialog">
		<!-- Modal content-->
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">
					<i class="fa fa-plus-circle" aria-hidden="true"></i> Novo Item
				</h4>
			</div>
			<div class="modal-body">
				<div class="box">
					<form class="form-horizontal">
						<fieldset>
							<div class="col-md-9">
								<span class="form-group"> <label for="produtos"
									class="control-label">Item</label> 
									<select class="form-control" ng-model="itemPedido.produto" 
									        id="produto" name="produto" 
						        			ng-options="produto.nome for produto in produtos" placeholder="Produto">
						        			<option value="0">Selecione</option>
									</select>

								</span>
							</div>

							<div class="col-md-3">
								<span class="form-group"> <label for="itemPedido.quantidade"
									class="control-label">Quantidade</label> <input type="number"
									class="form-control" ng-model="itemPedido.quantidade"
									placeholder="QTD" required="required" autocomplete="off">

								</span>
							</div>
						</fieldset>
					</form>
				</div>

			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal">
					<i class="fa fa-reply" aria-hidden="true"></i> Voltar
				</button>
				<button type="button" class="btn btn-primary" 
					ng-click="AdicionaLinha(itemPedido, modeloItem, itensPedido)" data-dismiss="modal">
					<i class="fa fa-plus-circle" aria-hidden="true"></i> Adiconar
				</button>
			</div>
		</div>

	</div>
</div>

